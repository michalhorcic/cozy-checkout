<!-- Generated by SpecStory -->

<!-- vscode Session 9b060c61-1b78-4c1c-acbe-fbb6d620be92 (2025-10-22 20:37Z) -->

# Auto-update checkout date based on check-in selection (2025-10-22 20:37Z)

_**User (2025-10-22 20:38Z)**_

In booking form when choosing date. Update checkout date accordingly to checkin date. Ie. when I choose October 10 as checking, show october 11 in checkout. So i do not need to scroll through months

---

_**Assistant (copilot/claude-sonnet-4.5)**_

I'll help you update the booking form so that when a check-in date is selected, the check-out date is automatically set to the next day. Let me first examine the current booking form component. Now I need to update the form component to automatically set the check-out date to one day after the check-in date when it's changed. I'll modify the `validate` event handler to detect when the check-in date changes and automatically update the check-out date. 
```

```
Perfect! I've updated the booking form component to automatically set the check-out date to one day after the check-in date when you select a check-in date. Here's what I changed:

1. **Modified the `validate` event handler** to call a new helper function that updates the check-out date before validating the changeset.

2. **Added `maybe_update_checkout_date/2` function** that:
   - Checks if a check-in date is present in the form params
   - Parses the check-in date from ISO8601 format
   - Compares it with the current check-in date to detect if it actually changed
   - If changed, automatically sets the check-out date to one day after the check-in date
   - Returns the updated params with the new check-out date

Now when you select October 10 as the check-in date, the check-out date will automatically be set to October 11, so you won't need to scroll through months to find the next day!

The form will update in real-time as you change the check-in date thanks to the `phx-change="validate"` event on the form.

---

